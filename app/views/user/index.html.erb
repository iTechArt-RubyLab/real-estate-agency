<div class="mx-auto" style="width: 200px;">
  <h1>Users</h1>
</div>

<table class="table table-striped table-bordered table-hover" style="width:100%" id="users-datatable", data-source="<%= user_index_path(format: :json) %>">
  <thead>
    <tr style="background-color: #C8EEFF;">
      <th>Email</th>
      <th>City</th>
      <th>First name</th>
      <th>Last name</th>
      <th>Second name</th>
      <th>Date of birth</th>
      <th>Gender</th>
      <th>Role</th>
      <th>Profilable type</th>
      <th>Last sign in at</th>
      <th>Sign in count</th>
      <th>Last sign in ip</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
  jQuery(document).ready(function() {
  $('#users-datatable').dataTable({
    "processing": true,
    "serverSide": true,
    "ajax": {
      "url": $('#users-datatable').data('source')
    },
    "pagingType": "full_numbers",
    "columns": [
      {"data": "email"},
      {"data": "city_id"},
      {"data": "first_name"},
      {"data": "last_name"},
      {"data": "second_name"},
      {"data": "date_of_birth"},
      {"data": "gender"},
      {"data": "role_id"},
      {"data": "profilable_type"},
      {"data": "last_sign_in_at"},
      {"data": "sign_in_count"},
      {"data": "last_sign_in_ip"}
    ]
  });
});
</script>
