<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @city.name %>
</p>

<p>
  <strong>Locality size:</strong>
  <%= @city.locality_size %>
</p>

<p>
  <strong>Region:</strong>
  <%= @city.humanized_region %>
</p>

<p>
  <strong>Description:</strong>
  <%= @city.description %>
</p>

<%= link_to 'Edit', edit_city_path(@city), class: "btn btn-warning" %>
<%= link_to 'Back', cities_path, class: "btn btn-danger" %>

<h4 class="mt-5">Districts of <%= @city.name %> city</h4>

<table class="table table-striped table-bordered table-hover" style="width:100%" id="districts-datatable", data-source="<%= city_districts_path(format: :json, city_id: @city.id) %>">
  <thead>
    <tr style="background-color: #C8EEFF;">
      <th>Name</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
  jQuery(document).ready(function() {
  $('#districts-datatable').dataTable({
    "processing": true,
    "serverSide": true,
    "ajax": {
      "url": $('#districts-datatable').data('source')
    },
    "pagingType": "full_numbers",
    "columns": [
      {"data": "name"},
      {"data": "actions"}
    ]
  });
});
</script>

<%= link_to 'New District', new_city_district_path(city_id: @city.id), class: "btn btn-outline-info" %>
